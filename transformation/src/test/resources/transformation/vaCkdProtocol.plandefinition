<!--
  ~ Copyright (c) 2020 the original author or authors.
  ~ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
  ~
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at https://mozilla.org/MPL/2.0/.
  -->

<PlanDefinition xmlns="http://hl7.org/fhir">
    <id value="va-ckd-protocol"/>
    <meta>
        <profile
                value="http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-protocoldefinition"/>
    </meta>
    <text>
        <status value="generated"/>
        <div xmlns="http://www.w3.org/1999/xhtml"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: va-ckd-protocol</p><p><b>meta</b>: </p><p><b>url</b>: <a href="http://hl7.org/fhir/uv/cpg/PlanDefinition/va-ckd-protocol">http://hl7.org/fhir/uv/cpg/PlanDefinition/va-ckd-protocol</a></p><p><b>identifier</b>: VA_CKD_Protocol (OFFICIAL)</p><p><b>version</b>: 0.1.0</p><p><b>name</b>: VA_CKD_Protocol</p><p><b>title</b>: VA CKD Protocol</p><p><b>type</b>: Clinical Protocol <span style="background: LightGoldenRodYellow">(Details : {http://terminology.hl7.org/CodeSystem/plan-definition-type code 'clinical-protocol' = 'Clinical Protocol', given as 'Clinical Protocol'})</span></p><p><b>status</b>: draft</p><p><b>experimental</b>: true</p><p><b>date</b>: Jul 27, 2019 8:00:00 PM</p><p><b>publisher</b>: HL7 FHIR Clinical Guidelines Example Artifact</p><p><b>description</b>: VA CKD Protocol</p><p><b>useContext</b>: </p><p><b>jurisdiction</b>: World <span style="background: LightGoldenRodYellow">(Details : {http://unstats.un.org/unsd/methods/m49/m49.htm code '001' = 'World', given as 'World'})</span></p><p><b>copyright</b>: Copyright © Example.org 2019.</p><p><b>approvalDate</b>: Jul 28, 2019</p><p><b>lastReviewDate</b>: Jul 28, 2019</p><p><b>effectivePeriod</b>: Jul 28, 2019 12:00:00 AM --&gt; (ongoing)</p><p><b>topic</b>: Treatment <span style="background: LightGoldenRodYellow">(Details : {http://terminology.hl7.org/CodeSystem/definition-topic code 'treatment' = 'Treatment', given as 'Treatment'})</span></p><p><b>author</b>: </p><blockquote><p><b>action</b></p><p><b>id</b>: 001</p><p><b>title</b>: History and Phyiscal</p><p><b>description</b>: Obtain initial clinical information: medical history (including risk factors for kidney disease), physical examination and review existing laboratory results.</p><p><b>code</b>: History and Physical <span style="background: LightGoldenRodYellow">(Details : {http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process code 'history-and-physical' = 'History and Physical', given as 'History and Physical'})</span></p></blockquote><blockquote><p><b>action</b></p><p><b>id</b>: 002</p><p><b>title</b>: At-Risk Population</p><p><b>description</b>: Evaluate at-risk patients for CKD: obtain SCr, eGFR, urinalysis, &amp; spot urine UAER.</p><p><b>code</b>: History and Physical <span style="background: LightGoldenRodYellow">(Details : {http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process code 'history-and-physical' = 'History and Physical', given as 'History and Physical'})</span></p></blockquote><blockquote><p><b>action</b></p><p><b>id</b>: 003</p><p><b>title</b>: Urgent/Emergent Conditions</p><p><b>description</b>: Does patient have an urgent or emergent condition?</p><p><b>code</b>: Triage <span style="background: LightGoldenRodYellow">(Details : {http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process code 'triage' = 'Triage', given as 'Triage'})</span></p><h3>Actions</h3><table class="grid"><tr><td>-</td></tr><tr><td>*</td></tr></table></blockquote><blockquote><p><b>action</b></p><p><b>id</b>: 004</p><p><b>title</b>: Criteria for Confirmed CKD</p><p><b>description</b>: Does patient have evidence of CKD?</p><p><b>code</b>: Determine Diagnosis <span style="background: LightGoldenRodYellow">(Details : {http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process code 'determine-diagnosis' = 'Determine Diagnosis', given as 'Determine Diagnosis'})</span></p><h3>Conditions</h3><table class="grid"><tr><td>-</td><td><b>Kind</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>applicability</td><td/></tr></table><h3>Actions</h3><table class="grid"><tr><td>-</td></tr><tr><td>*</td></tr><tr><td>*</td></tr></table></blockquote></div>
    </text>
    <url value="http://hl7.org/fhir/uv/cpg/PlanDefinition/va-ckd-protocol"/>
    <identifier>
        <use value="official"/>
        <value value="VA_CKD_Protocol"/>
    </identifier>
    <version value="0.1.0"/>
    <name value="VA_CKD_Protocol"/>
    <title value="VA CKD Protocol"/>
    <type>
        <coding>
            <system value="http://terminology.hl7.org/CodeSystem/plan-definition-type"/>
            <code value="clinical-protocol"/>
            <display value="Clinical Protocol"/>
        </coding>
    </type>
    <status value="draft"/>
    <experimental value="true"/>
    <date value="2019-07-27T20:00:00-04:00"/>
    <publisher value="HL7 FHIR Clinical Guidelines Example Artifact"/>
    <description value="VA CKD Protocol"/>
    <useContext>
        <code>
            <system value="http://terminology.hl7.org/CodeSystem/usage-context-type"/>
            <code value="focus"/>
            <display value="Clinical Focus"/>
        </code>
        <valueCodeableConcept>
            <coding>
                <system value="http://snomed.info/sct"/>
                <code value="709044004"/>
                <display value="Chronic kidney disease (disorder)"/>
            </coding>
        </valueCodeableConcept>
    </useContext>
    <jurisdiction>
        <coding>
            <system value="http://unstats.un.org/unsd/methods/m49/m49.htm"/>
            <code value="001"/>
            <display value="World"/>
        </coding>
    </jurisdiction>
    <copyright value="Copyright © Example.org 2019."/>
    <approvalDate value="2019-07-28"/>
    <lastReviewDate value="2019-07-28"/>
    <effectivePeriod>
        <start value="2019-07-28T00:00:00-04:00"/>
    </effectivePeriod>
    <topic>
        <coding>
            <system value="http://terminology.hl7.org/CodeSystem/definition-topic"/>
            <code value="treatment"/>
            <display value="Treatment"/>
        </coding>
    </topic>
    <author>
        <name value="Dave Carlson"/>
    </author>
    <action id="id_001">
        <title value="History and Phyiscal"/>
        <description value="Obtain initial clinical information: medical history (including risk factors for kidney disease), physical examination and review existing laboratory results."/>
        <code>
            <coding>
                <system value="http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process"/>
                <code value="history-and-physical"/>
                <display value="History and Physical"/>
            </coding>
        </code>
        <relatedAction> <!-- added -->
            <actionId value="id_002"/>  <!-- added -->
            <relationship value="before-start"/>  <!-- added -->
        </relatedAction> <!-- added -->
    </action>
    <action id="id_002">
        <title value="At-Risk Population"/>
        <description value="Evaluate at-risk patients for CKD: obtain SCr, eGFR, urinalysis, &amp; spot urine UAER."/>
        <code>
            <coding>
                <system value="http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process"/>
                <code value="history-and-physical"/>
                <display value="History and Physical"/>
            </coding>
        </code>
        <relatedAction> <!-- added -->
            <actionId value="id_003"/>  <!-- added -->
            <relationship value="before-start"/>  <!-- added -->
        </relatedAction> <!-- added -->
    </action>
    <action id="id_003">
        <title value="Urgent/Emergent Conditions"/>
        <description value="Does patient have an urgent or emergent condition?"/> <!-- Note: This should probably become some condition with surrounding xor_group to make sense-->
        <code>
            <coding>
                <system value="http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process"/>
                <code value="triage"/>
                <display value="Triage"/>
            </coding>
        </code>
        <action id="id_003.1">
            <title value="Refer to emergency department."/>
            <description value="Refer to emergency department to manage or stabilize."/>
            <code>
                <coding>
                    <system value="http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process"/>
                    <code value="triage"/>
                    <display value="Triage"/>
                </coding>
            </code>
        </action>
        <relatedAction> <!-- added -->
            <actionId value="xor_group"/>  <!-- added -->
            <relationship value="before-start"/>  <!-- added -->
        </relatedAction> <!-- added -->
    </action>
    <action> <!-- added -->
        <id value="xor_group"/> <!-- added -->
        <title value="Xor_group"/> <!-- added -->
        <groupingBehavior value="logical-group"/> <!-- added -->
        <selectionBehavior value="at-most-one"/> <!-- added -->
        <action id="id_004"> <!-- moved to xor -->
            <title value="Criteria for Confirmed CKD"/>
            <description value="Does patient have evidence of CKD?"/>
            <code>
                <coding>
                    <system value="http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process"/>
                    <code value="determine-diagnosis"/>
                    <display value="Determine Diagnosis"/>
                </coding>
            </code>
            <condition>
                <kind value="applicability"/>
                <expression>
                    <language value="text/cql"/>
                    <expression value="Has evidence of CKD?"/>
                </expression>
            </condition>
            <action id="id_004.1">
                <title value="Stages of CKD."/>
                <description value="Complete clinical assessment. Determine stage of CKD."/>
                <code>
                    <coding>
                        <system value="http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process"/>
                        <code value="determine-diagnosis"/>
                        <display value="Determine Diagnosis"/>
                    </coding>
                </code>
                <relatedAction> <!-- added -->
                    <actionId value="id_004.2"/>  <!-- added -->
                    <relationship value="before-start"/>  <!-- added -->
                </relatedAction> <!-- added -->
            </action>
            <action id="id_004.2">
                <title value="Strategies to Slow Progression."/>
                <description value="Establish primary etiology of CKD and treatment plan to slow progression."/>
                <code>
                    <coding>
                        <system value="http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process"/>
                        <code value="guideline-based-care"/>
                        <display value="Guideline-based Care"/>
                    </coding>
                </code>
            </action>
            <relatedAction> <!-- added -->
                <actionId value="xor_group"/>  <!-- added -->
                <relationship value="before-end"/>  <!-- added -->
            </relatedAction> <!-- added -->
        </action>
    </action>
</PlanDefinition>